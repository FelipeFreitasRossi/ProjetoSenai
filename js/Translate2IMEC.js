// ========== DICIONÁRIO DE TRADUÇÃO ========== 
const translations = {
    pt: {
        back: "Voltar",
        theme: "Tema",
        
        // Textos Gerais
        ourProjects: "Projetos 2IMEC",
        working: "Funcionamento",
        commercial: "Comercial",
        visitSite: "Visitar site",

        // --- PROJETOS (Títulos e Descrições) ---
        mec_p3_title: "Solução prática para melhor o desenvolvimento de trabalhos e estudos",
        mec_p3_desc: "Miniatura de braço robótico articulado inteiro usinado e funcional. Controlado via wifi.",
        mec_p4_title: "Solução prática para melhor o desenvolvimento de trabalhos e estudos",
        mec_p4_desc: "A.R.P.E: automação industrial sob medida, unindo robótica, programação e elétrica para otimizar sua produção.",
        mec_p5_title: "A RetroTech automatiza máquinas de dobra, oferecendo soluções que aumentam produtividade, precisão e eficiência industrial.",
        mec_p5_desc: "Rede de sensores térmicos para monitoramento contínuo de temperatura em processos industriais.",
        mec_p6_title: "Câmbio CVT demonstrativo",
        mec_p6_desc: "Câmbio CVT demonstrativo que facilita o ensino e a visualização do funcionamento de transmissões automotivas.",
        mec_p7_title: "Restauração e aprimoramento da mini router",
        mec_p7_desc: "Projeto de restauração da mini router, com peças novas, redução de vibração e atualização de software para melhor desempenho.",
        mec_p8_title: "Seletora de Brocas",
        mec_p8_desc: "Seletora de brocas automatizada que organiza o ambiente de trabalho e controla dados.",
        mec_p9_title: "Desenho com IA",
        mec_p9_desc: "Mesa cartesiana de baixo custo controlada por IA para desenhos técnicos e escritas com precisão.",
        mec_p10_title: "Braço Robótico",
        mec_p10_desc: "Braço robótico em menor escala para soluções práticas e aulas dinâmicas.",
        mec_p11_title: "WinderTech",
        mec_p11_desc: "Tecnologia de ponta para molas pequenas com tensão ideal, precisão no enrolamento e durabilidade superior.",
        mec_p12_title: "Organização e controle de qualidade",
        mec_p12_desc: "Mesa giratória para organização e controle de qualidade das peças posicionando-as em caixas específicas automaticamente.",
        mec_p13_title: "Inovação digital para medições acessíveis e eficazes",
        mec_p13_desc: "Paquímetro digital assistivo que amplia leitura e facilita a medição para pessoas com baixa visão.",
        mec_p14_title: "Automação predial residencial",
        mec_p14_desc: "Somos uma empresa responsável por automatizar espaços. Pensando em maior facilidade para as aulas sobre automação dos Senai, desenvolvemos um painel onde há dispositivos inteligentes, controlados tanto por voz com a Alexa quanto pela interface no Home Assistant. O painel foi projetado para os alunos aprenderem de forma mais prática sobre automação com dispositivos inteligentes.",

        // Footer
        footerAboutTitle: "SENAI São Carlos",
        footerAboutText: "Centro de referência em formação técnica e tecnológica, preparando profissionais para os desafios da Indústria 4.0.",
        footerAboutSlogan: "Formando o futuro da tecnologia",
        footerClassesTitle: "Turmas 2024/2025",
        class3TDSTitle: "3º Técnico em Desenvolvimento de Sistemas",
        footerClass2IMECB: "2º Integrado em Mecatrônica Turma B",
        footerClass2IMECC: "2º Integrado em Mecatrônica Turma C",
        class2IDSTitle: "2º Integrado em Desenvolvimento de Sistemas",
        footerDeveloperTitle: "Equipe de Desenvolvimento",
        techLead: "Tech Lead",
        developers: "Desenvolvedores:",
        footerIndustry: "Serviço Nacional de Aprendizagem Industrial",
        footerRights: "© 2025 Todos os direitos reservados",
        footerDevelopedBy: "Desenvolvido por"
    },
    en: {
        back: "Back",
        theme: "Theme",
        
        // General Texts
        ourProjects: "2IMEC Projects",
        working: "How it works",
        commercial: "Commercial",
        visitSite: "Visit site",

        // --- PROJECTS ---
        mec_p3_title: "Practical solution to improve work and study development",
        mec_p3_desc: "Miniature fully machined and functional articulated robotic arm. Controlled via Wi-Fi.",
        mec_p4_title: "Practical solution to improve work and study development",
        mec_p4_desc: "A.R.P.E: Custom industrial automation, combining robotics, programming, and electrical engineering to optimize your production.",
        mec_p5_title: "RetroTech automates bending machines, offering solutions that increase productivity, precision, and industrial efficiency.",
        mec_p5_desc: "Thermal sensor network for continuous temperature monitoring in industrial processes.",
        mec_p6_title: "Demonstrative CVT Transmission",
        mec_p6_desc: "Demonstrative CVT transmission that facilitates teaching and visualization of automotive transmission operation.",
        mec_p7_title: "Restoration and improvement of the mini router",
        mec_p7_desc: "Mini router restoration project with new parts, vibration reduction, and software updates for better performance.",
        mec_p8_title: "Drill Bit Selector",
        mec_p8_desc: "Automated drill bit selector that organizes the workspace and controls data.",
        mec_p9_title: "Drawing with AI",
        mec_p9_desc: "Low-cost Cartesian table controlled by AI for precise technical drawings and writing.",
        mec_p10_title: "Robotic Arm",
        mec_p10_desc: "Smaller-scale robotic arm for practical solutions and dynamic classes.",
        mec_p11_title: "WinderTech",
        mec_p11_desc: "Cutting-edge technology for small springs with ideal tension, winding precision, and superior durability.",
        mec_p12_title: "Organization and quality control",
        mec_p12_desc: "Rotary table for organization and quality control of parts, automatically positioning them in specific boxes.",
        mec_p13_title: "Digital innovation for accessible and effective measurements",
        mec_p13_desc: "Assistive digital caliper that magnifies readings and facilitates measurement for people with low vision.",
        mec_p14_title: "Residential Building Automation",
        mec_p14_desc: "We are a company responsible for automating spaces. Aiming for greater ease in Senai's automation classes, we developed a panel with smart devices, controlled both by voice with Alexa and by the Home Assistant interface. The panel was designed for students to learn about automation with smart devices in a more practical way.",

        // Footer
        footerAboutTitle: "SENAI São Carlos",
        footerAboutText: "Reference center in technical and technological training, preparing professionals for Industry 4.0 challenges.",
        footerAboutSlogan: "Shaping the future of technology",
        footerClassesTitle: "Classes 2024/2025",
        class3TDSTitle: "3rd Systems Development Technician",
        footerClass2IMECB: "2nd Mechatronics Integrated Class B",
        footerClass2IMECC: "2nd Mechatronics Integrated Class C",
        class2IDSTitle: "2nd Systems Development Integrated",
        footerDeveloperTitle: "Development Team",
        techLead: "Tech Lead",
        developers: "Developers:",
        footerIndustry: "National Service for Industrial Training",
        footerRights: "© 2025 All rights reserved",
        footerDevelopedBy: "Developed by"
    }
};

// ========== FUNÇÕES DE TRADUÇÃO ========== 
// Nota: O seu código original usava 'siteLang', trocamos para 'language'
let currentLang = localStorage.getItem('language') || 'pt';

function translatePage() {
    document.querySelectorAll('[data-i18n]').forEach(element => {
        const key = element.getAttribute('data-i18n');
        
        if (translations[currentLang] && translations[currentLang][key]) {
            // Se for um input placeholder, usa placeholder, senão usa textContent
            if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
                element.placeholder = translations[currentLang][key];
            } else {
                element.textContent = translations[currentLang][key];
            }
        }
    });
    
    // Atualizar botão de idioma
    const langButton = document.getElementById('current-lang');
    if (langButton) {
        langButton.textContent = currentLang.toUpperCase();
    }
    
    // Atualizar atributo lang do HTML
    document.documentElement.lang = currentLang === 'pt' ? 'pt-BR' : 'en';
}

function toggleLanguage() {
    currentLang = currentLang === 'pt' ? 'en' : 'pt';
    // SALVA o novo idioma
    localStorage.setItem('language', currentLang); 
    translatePage();
}

// ========== INICIALIZAÇÃO ========== 
document.addEventListener('DOMContentLoaded', () => {
    // Inicializar tradução (aplicará o idioma salvo/padrão)
    translatePage();
    
    // Event listener para botão de idioma
    const languageToggle = document.getElementById('language-toggle');
    if (languageToggle) {
        languageToggle.addEventListener('click', toggleLanguage);
    }
});